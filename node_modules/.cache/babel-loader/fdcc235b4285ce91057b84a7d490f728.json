{"ast":null,"code":"var _jsxFileName = \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Tables/alarmTable/alarmRow.js\";\nimport React from 'react';\nimport '../../components.css';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { deleteAlarm, selectAlarm, selectAlarmChanging } from '../../../Action/alarmAction';\nimport withAuthorization from '../../Session/withAuthorization';\nimport { Link } from 'react-router-dom';\n\nclass AlarmRow extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: \"\",\n      groupPin: this.props.groupPin,\n      selected: {}\n    };\n  }\n\n  componentDidMount() {\n    let pin = this.state.groupPin;\n    let group = Object.assign([{}]);\n    group = this.props.groups.filter(function (group) {\n      return group.pin == pin;\n    });\n    let temp = Object.assign({}, group[0]);\n    this.setState({\n      groupName: temp.name\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.props.selectAlarmChanged) {\n      this.props.selectAlarmChanging();\n      this.props.history.push('/alarm/' + this.props.id);\n    }\n  }\n\n  handleDelete(id) {\n    alert(\"User with id:\" + this.props.id + \" has been deleted from the database\");\n    this.props.deleteAlarm(id);\n  }\n\n  selected(id) {\n    this.props.selectAlarm(id);\n  }\n\n  render() {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.state.groupName)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, this.props.groupPin)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.props.title)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, this.props.alarmTimestamp)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"edit_button\",\n      onClick: () => this.selected(this.props.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"delete_button\",\n      id: this.props.id,\n      onClick: () => {\n        if (window.confirm('Are you sure you wish to delete this Alarm?')) this.handleDelete(this.props.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Delete\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  groups: state.groupState.groups,\n  selectedAlarm: state.alarmState.selectedAlarm,\n  selectAlarmChanged: state.alarmState.selectAlarmChanged\n});\n\nconst condition = authUser => !!authUser;\n\nexport default compose(connect(mapStateToProps, {\n  deleteAlarm,\n  selectAlarm,\n  selectAlarmChanging\n}), withAuthorization(condition))(AlarmRow);","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Tables/alarmTable/alarmRow.js"],"names":["React","connect","compose","deleteAlarm","selectAlarm","selectAlarmChanging","withAuthorization","Link","AlarmRow","PureComponent","constructor","props","state","groupName","groupPin","selected","componentDidMount","pin","group","Object","assign","groups","filter","temp","setState","name","componentDidUpdate","selectAlarmChanged","history","push","id","handleDelete","alert","render","title","alarmTimestamp","window","confirm","mapStateToProps","groupState","selectedAlarm","alarmState","condition","authUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../components.css';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport {deleteAlarm, selectAlarm, selectAlarmChanging} from '../../../Action/alarmAction';\nimport withAuthorization from '../../Session/withAuthorization';\nimport { Link} from 'react-router-dom'\nclass AlarmRow extends React.PureComponent{\n    constructor(props){\n        super(props);\n        this.state={\n            groupName: \"\",\n            groupPin: this.props.groupPin,\n            selected : {}\n        }\n    }\n    componentDidMount(){\n        let pin = this.state.groupPin\n        let group=Object.assign([{}])\n        group= this.props.groups.filter(function(group){\n            return (group.pin== pin)\n        })\n        let temp=Object.assign({},group[0])\n        this.setState({groupName: temp.name})\n    }\n    componentDidUpdate(){\n        if(this.props.selectAlarmChanged){\n            this.props.selectAlarmChanging()\n            this.props.history.push('/alarm/'+this.props.id);        \n        } \n    }\n    handleDelete(id){\n        alert(\"User with id:\"+this.props.id+\" has been deleted from the database\");\n        this.props.deleteAlarm(id);\n    }\n    selected(id){\n        this.props.selectAlarm(id);\n    }\n    render(){\n        return(\n            <tr>\n                <td><center>{this.state.groupName}</center></td>\n                <td><center>{this.props.groupPin}</center></td>\n                <td><center>{this.props.title}</center></td>\n                <td><center>{this.props.alarmTimestamp}</center></td>                \n                <td><center>\n                    <button className=\"edit_button\" onClick={()=> this.selected(this.props.id)}>Edit</button><br/>\n                    <button className=\"delete_button\" id={this.props.id} onClick={() => { if (window.confirm('Are you sure you wish to delete this Alarm?')) this.handleDelete(this.props.id)}}>Delete</button></center>\n                </td>\n            </tr>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    groups: state.groupState.groups,\n    selectedAlarm: state.alarmState.selectedAlarm,\n    selectAlarmChanged: state.alarmState.selectAlarmChanged\n});\nconst condition = authUser => !!authUser;\nexport default compose(\n    connect(\n      mapStateToProps,\n      {deleteAlarm, selectAlarm, selectAlarmChanging}\n    ),withAuthorization(condition)\n)(AlarmRow);"]},"metadata":{},"sourceType":"module"}