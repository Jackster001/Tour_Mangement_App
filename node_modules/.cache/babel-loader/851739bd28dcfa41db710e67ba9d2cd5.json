{"ast":null,"code":"import _objectSpread from \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { db } from \"../components/Firebase\";\n\nconst getLostNotifications = () => {\n  let data = Object.assign([]);\n  return dispatch => {\n    db.collection(\"lostUsers\").get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        let lostUser = doc.data();\n        lostUser = _objectSpread({\n          id: doc.id\n        }, lostUser);\n        data = [lostUser, ...data];\n        data.sort(function (a, b) {\n          return a.timestamp.seconds - b.timestamp.seconds;\n        }).reverse();\n      });\n      dispatch({\n        type: \"LOST_GET\",\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n};\n\nconst deleteLostNotifications = id => {\n  db.collection(\"lostUsers\").doc(id).delete().then(function () {\n    console.log(\"I am lost Notification successfully deleted!\");\n  }).catch(function (error) {\n    console.error(\"Error removing document: \", error);\n  });\n  return {\n    type: \"LOST_DELETE\",\n    id: id\n  };\n};\n\nexport { getLostNotifications, deleteLostNotifications };","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/Action/lostAction.js"],"names":["db","getLostNotifications","data","Object","assign","dispatch","collection","get","then","querySnapshot","forEach","doc","lostUser","id","sort","a","b","timestamp","seconds","reverse","type","payload","catch","error","console","log","deleteLostNotifications","delete"],"mappings":";AAAA,SAAQA,EAAR,QAAiB,wBAAjB;;AAEA,MAAMC,oBAAoB,GAAG,MAAK;AAC9B,MAAIC,IAAI,GAACC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAT;AACA,SAAQC,QAAD,IAAc;AACjBL,IAAAA,EAAE,CAACM,UAAH,CAAc,WAAd,EAA2BC,GAA3B,GAAiCC,IAAjC,CAAsC,UAASC,aAAT,EAAwB;AAC1DA,MAAAA,aAAa,CAACC,OAAd,CAAsB,UAASC,GAAT,EAAc;AACpC,YAAIC,QAAQ,GAAGD,GAAG,CAACT,IAAJ,EAAf;AACAU,QAAAA,QAAQ;AAAIC,UAAAA,EAAE,EAAEF,GAAG,CAACE;AAAZ,WAAmBD,QAAnB,CAAR;AACAV,QAAAA,IAAI,GAAC,CAACU,QAAD,EAAU,GAAGV,IAAb,CAAL;AACAA,QAAAA,IAAI,CAACY,IAAL,CAAU,UAASC,CAAT,EAAWC,CAAX,EAAa;AACnB,iBAAQD,CAAC,CAACE,SAAF,CAAYC,OAAZ,GAAsBF,CAAC,CAACC,SAAF,CAAYC,OAA1C;AACH,SAFD,EAEGC,OAFH;AAGC,OAPD;AAQAd,MAAAA,QAAQ,CAAC;AACLe,QAAAA,IAAI,EAAE,UADD;AAELC,QAAAA,OAAO,EAAEnB;AAFJ,OAAD,CAAR;AAIF,KAbF,EAcEoB,KAdF,CAcQ,UAASC,KAAT,EAAe;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,KAAvC;AACF,KAhBF;AAiBH,GAlBD;AAmBH,CArBD;;AAsBA,MAAMG,uBAAuB,GAAIb,EAAD,IAAO;AACnCb,EAAAA,EAAE,CAACM,UAAH,CAAc,WAAd,EAA2BK,GAA3B,CAA+BE,EAA/B,EAAmCc,MAAnC,GAA4CnB,IAA5C,CAAiD,YAAU;AACvDgB,IAAAA,OAAO,CAACC,GAAR,CAAY,8CAAZ;AACH,GAFD,EAEGH,KAFH,CAES,UAASC,KAAT,EAAgB;AACrBC,IAAAA,OAAO,CAACD,KAAR,CAAc,2BAAd,EAA2CA,KAA3C;AACH,GAJD;AAKA,SAAM;AACFH,IAAAA,IAAI,EAAE,aADJ;AAEFP,IAAAA,EAAE,EAAEA;AAFF,GAAN;AAIH,CAVD;;AAYA,SAAQZ,oBAAR,EAA8ByB,uBAA9B","sourcesContent":["import {db} from \"../components/Firebase\";\n\nconst getLostNotifications = () =>{\n    let data=Object.assign([])\n    return (dispatch) => {\n        db.collection(\"lostUsers\").get().then(function(querySnapshot) {\n            querySnapshot.forEach(function(doc) {\n            let lostUser = doc.data();\n            lostUser = {id: doc.id, ...lostUser}\n            data=[lostUser,...data]\n            data.sort(function(a,b){\n                return  a.timestamp.seconds - b.timestamp.seconds\n            }).reverse();\n            })           \n            dispatch({\n                type: \"LOST_GET\",\n                payload: data\n            })\n         })\n         .catch(function(error){\n            console.log(\"Error getting document:\", error);\n         })\n    }\n}\nconst deleteLostNotifications = (id) =>{\n    db.collection(\"lostUsers\").doc(id).delete().then(function(){\n        console.log(\"I am lost Notification successfully deleted!\");\n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n    return{\n        type: \"LOST_DELETE\",\n        id: id\n    }\n}\n\nexport {getLostNotifications, deleteLostNotifications}"]},"metadata":{},"sourceType":"module"}