{"ast":null,"code":"import _objectSpread from \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { db, storageRef } from \"../components/Firebase\";\nimport itineraryRow from \"../components/Tables/itineraryTable/itineraryRow\";\n\nconst selectItinerary = (id, index) => {\n  let itineraryData = {};\n  let stringId = '' + id + '';\n  let head = {};\n  return dispatch => {\n    let docRef = db.collection(\"itineraries\").doc(stringId);\n    docRef.get().then(function (doc) {\n      if (doc.exists) {\n        let itinerary = doc.data();\n        head = itinerary;\n        let selectItinerary = itinerary.dailyData[index];\n        itineraryData = _objectSpread({}, selectItinerary, {\n          id\n        });\n        console.log(itineraryData);\n      } else {\n        console.log(\"Something went wrong!\");\n      }\n\n      dispatch({\n        type: \"ITINERARY_SELECT\",\n        payload: itineraryData,\n        itineraryHead: head\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n};\n\nconst selectItineraryChanging = () => {\n  return {\n    type: \"ITINERARY_SELECT_CHANGED\"\n  };\n};\n\nconst getItineraries = () => {\n  let data = Object.assign([]);\n  return dispatch => {\n    db.collection(\"itineraries\").get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        let itinerary = doc.data();\n        itinerary = _objectSpread({\n          id: doc.id\n        }, itinerary);\n        data = [...data, itinerary];\n      });\n      dispatch({\n        type: \"ITINERARIES_GET\",\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n};\n\nconst addItinerary = itinerary => {\n  return dispatch => {\n    db.collection(\"itinerary\").add(itinerary).then(function () {\n      dispatch({\n        type: 'ITINERARY_SEND',\n        payload: itinerary\n      });\n    }).catch(error => {\n      console.log({\n        error\n      });\n    });\n  };\n};\n\nconst itineraryAdded = () => {\n  return {\n    type: 'ITINERARY_ADDED'\n  };\n};\n\nconst addItineraryDay = (newDailyData, id) => {\n  return dispatch => {\n    db.collection(\"itineraries\").doc(id).update({\n      dailyData: newDailyData\n    }).then(function () {\n      dispatch({\n        type: \"EDIT_ITINERARY_SCHEDULE\",\n        payload: newDailyData,\n        id: id\n      });\n    });\n  };\n};\n\nconst deleteItinerary = (newDailyData, id) => {\n  return dispatch => {\n    db.collection(\"itineraries\").doc(id).update({\n      dailyData: newDailyData\n    }).then(function () {\n      dispatch({\n        type: \"EDIT_ITINERARY_SCHEDULE\",\n        payload: newDailyData,\n        id: id\n      });\n    });\n  };\n};\n\nconst editItinerary = (itinerary, id) => {\n  return dispatch => {\n    db.collection(\"itineraries\").doc(id).update({\n      dailyData: itinerary.dailyData\n    }).then(function () {\n      dispatch({\n        type: \"EDIT_ITINERARY\",\n        payload: itinerary\n      });\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  };\n};\n\nconst itineraryChanged = () => {\n  return {\n    type: \"ITINERARY_CHANGED\"\n  };\n};\n\nexport { getItineraries, addItinerary, itineraryAdded, deleteItinerary, selectItinerary, selectItineraryChanging, editItinerary, itineraryChanged, addItineraryDay };","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/Action/itineraryAction.js"],"names":["db","storageRef","itineraryRow","selectItinerary","id","index","itineraryData","stringId","head","dispatch","docRef","collection","doc","get","then","exists","itinerary","data","dailyData","console","log","type","payload","itineraryHead","catch","error","selectItineraryChanging","getItineraries","Object","assign","querySnapshot","forEach","addItinerary","add","itineraryAdded","addItineraryDay","newDailyData","update","deleteItinerary","editItinerary","itineraryChanged"],"mappings":";AAAA,SAAQA,EAAR,EAAYC,UAAZ,QAA6B,wBAA7B;AACA,OAAOC,YAAP,MAAyB,kDAAzB;;AAEA,MAAMC,eAAe,GAAE,CAACC,EAAD,EAAKC,KAAL,KAAa;AAChC,MAAIC,aAAa,GAAC,EAAlB;AACA,MAAIC,QAAQ,GAAC,KAAGH,EAAH,GAAM,EAAnB;AACA,MAAII,IAAI,GAAE,EAAV;AACA,SAAQC,QAAD,IAAY;AACf,QAAIC,MAAM,GAACV,EAAE,CAACW,UAAH,CAAc,aAAd,EAA6BC,GAA7B,CAAiCL,QAAjC,CAAX;AACAG,IAAAA,MAAM,CAACG,GAAP,GAAaC,IAAb,CAAkB,UAASF,GAAT,EAAa;AAC/B,UAAGA,GAAG,CAACG,MAAP,EAAc;AACV,YAAIC,SAAS,GAACJ,GAAG,CAACK,IAAJ,EAAd;AACAT,QAAAA,IAAI,GAAEQ,SAAN;AACA,YAAIb,eAAe,GAAEa,SAAS,CAACE,SAAV,CAAoBb,KAApB,CAArB;AACAC,QAAAA,aAAa,qBAAKH,eAAL;AAAsBC,UAAAA;AAAtB,UAAb;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAYd,aAAZ;AACH,OAND,MAMM;AACFa,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH;;AACDX,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAE,kBADD;AAELC,QAAAA,OAAO,EAAEhB,aAFJ;AAGLiB,QAAAA,aAAa,EAAEf;AAHV,OAAD,CAAR;AAKH,KAfG,EAeDgB,KAfC,CAeK,UAASC,KAAT,EAAgB;AACrBN,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCK,KAAvC;AACH,KAjBG;AAkBH,GApBD;AAqBH,CAzBD;;AA0BA,MAAMC,uBAAuB,GAAC,MAAI;AAC9B,SAAM;AACFL,IAAAA,IAAI,EAAC;AADH,GAAN;AAGH,CAJD;;AAKA,MAAMM,cAAc,GAAG,MAAK;AACxB,MAAIV,IAAI,GAACW,MAAM,CAACC,MAAP,CAAc,EAAd,CAAT;AACA,SAAQpB,QAAD,IAAc;AACjBT,IAAAA,EAAE,CAACW,UAAH,CAAc,aAAd,EAA6BE,GAA7B,GAAmCC,IAAnC,CAAwC,UAASgB,aAAT,EAAwB;AAC5DA,MAAAA,aAAa,CAACC,OAAd,CAAsB,UAASnB,GAAT,EAAc;AACpC,YAAII,SAAS,GAAGJ,GAAG,CAACK,IAAJ,EAAhB;AACAD,QAAAA,SAAS;AAAGZ,UAAAA,EAAE,EAACQ,GAAG,CAACR;AAAV,WAAiBY,SAAjB,CAAT;AACAC,QAAAA,IAAI,GAAC,CAAC,GAAGA,IAAJ,EAAUD,SAAV,CAAL;AACC,OAJD;AAKAP,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAE,iBADD;AAELC,QAAAA,OAAO,EAAEL;AAFJ,OAAD,CAAR;AAIF,KAVF,EAWEO,KAXF,CAWQ,UAASC,KAAT,EAAe;AACnBN,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCK,KAAvC;AACF,KAbF;AAcH,GAfD;AAgBH,CAlBD;;AAmBA,MAAMO,YAAY,GAAIhB,SAAD,IAAa;AAC9B,SAAOP,QAAD,IAAY;AACdT,IAAAA,EAAE,CAACW,UAAH,CAAc,WAAd,EAA2BsB,GAA3B,CAA+BjB,SAA/B,EAA0CF,IAA1C,CAA+C,YAAU;AACrDL,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAE,gBADD;AAELC,QAAAA,OAAO,EAAEN;AAFJ,OAAD,CAAR;AAIH,KALD,EAKGQ,KALH,CAKSC,KAAK,IAAI;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEK,QAAAA;AAAF,OAAZ;AACH,KAPD;AAQH,GATD;AAUH,CAXD;;AAYA,MAAMS,cAAc,GAAE,MAAI;AACtB,SAAO;AACHb,IAAAA,IAAI,EAAE;AADH,GAAP;AAGH,CAJD;;AAKA,MAAMc,eAAe,GAAE,CAACC,YAAD,EAAehC,EAAf,KAAoB;AACvC,SAAOK,QAAD,IAAY;AACdT,IAAAA,EAAE,CAACW,UAAH,CAAc,aAAd,EAA6BC,GAA7B,CAAiCR,EAAjC,EAAqCiC,MAArC,CAA4C;AAACnB,MAAAA,SAAS,EAAEkB;AAAZ,KAA5C,EAAuEtB,IAAvE,CAA4E,YAAU;AAClFL,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAC,yBADA;AAELC,QAAAA,OAAO,EAAEc,YAFJ;AAGLhC,QAAAA,EAAE,EAAEA;AAHC,OAAD,CAAR;AAKH,KAND;AAOH,GARD;AASH,CAVD;;AAWA,MAAMkC,eAAe,GAAG,CAACF,YAAD,EAAehC,EAAf,KAAqB;AACzC,SAAOK,QAAD,IAAY;AACdT,IAAAA,EAAE,CAACW,UAAH,CAAc,aAAd,EAA6BC,GAA7B,CAAiCR,EAAjC,EAAqCiC,MAArC,CAA4C;AAACnB,MAAAA,SAAS,EAAEkB;AAAZ,KAA5C,EAAuEtB,IAAvE,CAA4E,YAAU;AAClFL,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAC,yBADA;AAELC,QAAAA,OAAO,EAAEc,YAFJ;AAGLhC,QAAAA,EAAE,EAAEA;AAHC,OAAD,CAAR;AAKH,KAND;AAOH,GARD;AASH,CAVD;;AAWA,MAAMmC,aAAa,GAAG,CAACvB,SAAD,EAAYZ,EAAZ,KAAkB;AACpC,SAAOK,QAAD,IAAY;AACdT,IAAAA,EAAE,CAACW,UAAH,CAAc,aAAd,EAA6BC,GAA7B,CAAiCR,EAAjC,EAAqCiC,MAArC,CAA4C;AAACnB,MAAAA,SAAS,EAACF,SAAS,CAACE;AAArB,KAA5C,EAA6EJ,IAA7E,CAAkF,YAAW;AACzFL,MAAAA,QAAQ,CAAC;AACLY,QAAAA,IAAI,EAAC,gBADA;AAELC,QAAAA,OAAO,EAAEN;AAFJ,OAAD,CAAR;AAIH,KALD,EAMCQ,KAND,CAMO,UAASC,KAAT,EAAgB;AACnBN,MAAAA,OAAO,CAACM,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACH,KARD;AASH,GAVD;AAWH,CAZD;;AAaA,MAAMe,gBAAgB,GAAC,MAAI;AACvB,SAAM;AACFnB,IAAAA,IAAI,EAAE;AADJ,GAAN;AAGH,CAJD;;AAKA,SAAQM,cAAR,EAAwBK,YAAxB,EAAsCE,cAAtC,EAAsDI,eAAtD,EAAuEnC,eAAvE,EAAwFuB,uBAAxF,EAAiHa,aAAjH,EAAgIC,gBAAhI,EAAkJL,eAAlJ","sourcesContent":["import {db, storageRef} from \"../components/Firebase\";\nimport itineraryRow from \"../components/Tables/itineraryTable/itineraryRow\";\n\nconst selectItinerary= (id, index)=>{\n    let itineraryData={}\n    let stringId=''+id+'';\n    let head= {}\n    return (dispatch)=>{\n        let docRef=db.collection(\"itineraries\").doc(stringId)\n        docRef.get().then(function(doc){\n        if(doc.exists){\n            let itinerary=doc.data();\n            head= itinerary\n            let selectItinerary= itinerary.dailyData[index];\n            itineraryData={...selectItinerary, id}\n            console.log(itineraryData)\n        } else{\n            console.log(\"Something went wrong!\")\n        }\n        dispatch({\n            type: \"ITINERARY_SELECT\",\n            payload: itineraryData,\n            itineraryHead: head\n        })\n    }).catch(function(error) {\n        console.log(\"Error getting document:\", error);\n    });\n    }\n}\nconst selectItineraryChanging=()=>{\n    return{\n        type:\"ITINERARY_SELECT_CHANGED\"\n    }\n}\nconst getItineraries = () =>{\n    let data=Object.assign([])\n    return (dispatch) => {\n        db.collection(\"itineraries\").get().then(function(querySnapshot) {\n            querySnapshot.forEach(function(doc) {\n            let itinerary = doc.data();\n            itinerary= {id:doc.id ,...itinerary}\n            data=[...data, itinerary]\n            })           \n            dispatch({\n                type: \"ITINERARIES_GET\",\n                payload: data\n            })\n         })\n         .catch(function(error){\n            console.log(\"Error getting document:\", error);\n         })\n    }\n}\nconst addItinerary = (itinerary)=>{\n    return(dispatch)=>{\n        db.collection(\"itinerary\").add(itinerary).then(function(){\n            dispatch({\n                type: 'ITINERARY_SEND',\n                payload: itinerary\n            })\n        }).catch(error => {\n            console.log({ error });\n        });\n    }\n}\nconst itineraryAdded =()=>{\n    return {\n        type: 'ITINERARY_ADDED'\n    }\n}\nconst addItineraryDay =(newDailyData, id)=>{\n    return(dispatch)=>{\n        db.collection(\"itineraries\").doc(id).update({dailyData: newDailyData}).then(function(){\n            dispatch({\n                type:\"EDIT_ITINERARY_SCHEDULE\",\n                payload: newDailyData,\n                id: id\n            })\n        })\n    }\n}\nconst deleteItinerary = (newDailyData, id) =>{\n    return(dispatch)=>{\n        db.collection(\"itineraries\").doc(id).update({dailyData: newDailyData}).then(function(){\n            dispatch({\n                type:\"EDIT_ITINERARY_SCHEDULE\",\n                payload: newDailyData,\n                id: id\n            })\n        })\n    }\n}\nconst editItinerary = (itinerary, id) =>{\n    return(dispatch)=>{\n        db.collection(\"itineraries\").doc(id).update({dailyData:itinerary.dailyData}).then(function() {\n            dispatch({\n                type:\"EDIT_ITINERARY\",\n                payload: itinerary\n            })\n        })\n        .catch(function(error) {\n            console.error(\"Error writing document: \", error);\n        });\n    } \n}\nconst itineraryChanged=()=>{\n    return{\n        type: \"ITINERARY_CHANGED\"\n    }\n}\nexport {getItineraries, addItinerary, itineraryAdded, deleteItinerary, selectItinerary, selectItineraryChanging, editItinerary, itineraryChanged, addItineraryDay}"]},"metadata":{},"sourceType":"module"}