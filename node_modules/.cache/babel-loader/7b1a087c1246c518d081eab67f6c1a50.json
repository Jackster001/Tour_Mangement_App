{"ast":null,"code":"import _objectSpread from \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { db } from \"../components/Firebase\";\n\nconst selectAlarm = id => {\n  let alarmData = {};\n  let stringId = '' + id + '';\n  return dispatch => {\n    let docRef = db.collection(\"alarms\").doc(stringId);\n    docRef.get().then(function (doc) {\n      if (doc.exists) {\n        let alarm = doc.data();\n        alarmData = _objectSpread({}, alarm, {\n          id\n        });\n      } else {\n        console.log(\"Something went wrong!\");\n      }\n\n      dispatch({\n        type: \"ALARM_SELECT\",\n        payload: alarmData,\n        id: id\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n};\n\nconst selectAlarmChanging = () => {\n  return {\n    type: \"ALARM_SELECT_CHANGED\"\n  };\n};\n\nconst getAlarms = () => {\n  let data = Object.assign([]);\n  return dispatch => {\n    db.collection(\"alarms\").get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        let alarm = doc.data();\n        alarm = _objectSpread({\n          id: doc.id\n        }, alarm);\n        data = [...data, alarm];\n        data.sort(function (a, b) {\n          return a.timestamp.seconds - b.timestamp.seconds;\n        }).reverse();\n      });\n      dispatch({\n        type: \"ALARMS_GET\",\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n};\n\nconst gettingAlarms = () => {\n  return {\n    type: \"GETTING_ALARMS\"\n  };\n};\n\nconst addAlarm = newAlarm => {\n  return dispatch => {\n    db.collection(\"alarms\").add({\n      notifType: \"alarm\",\n      groupPin: newAlarm.groupPin,\n      timestamp: newAlarm.timestamp,\n      title: newAlarm.title\n    }).then(function () {\n      dispatch({\n        type: 'ALARM_ADD',\n        payload: newAlarm\n      });\n    }).catch(error => {\n      console.log({\n        error\n      });\n    });\n  };\n};\n\nconst alarmAdded = () => {\n  return {\n    type: 'ALARM_ADDED'\n  };\n};\n\nconst deleteAlarm = id => {\n  db.collection(\"alarms\").doc(id).delete().then(function () {\n    console.log(\"Group successfully deleted!\");\n  }).catch(function (error) {\n    console.error(\"Error removing document: \", error);\n  });\n  return {\n    type: \"ALARM_DELETE\",\n    id: id\n  };\n};\n\nconst editAlarm = alarm => {\n  return dispatch => {\n    db.collection(\"alarms\").doc(alarm.id).set(alarm).then(function () {\n      dispatch({\n        type: \"EDIT_ALARM\",\n        payload: alarm\n      });\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  };\n};\n\nconst alarmChanged = () => {\n  return {\n    type: \"ALARM_CHANGED\"\n  };\n};\n\nexport { getAlarms, gettingAlarms, addAlarm, alarmAdded, deleteAlarm, selectAlarm, selectAlarmChanging, editAlarm, alarmChanged };","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/Action/alarmAction.js"],"names":["db","selectAlarm","id","alarmData","stringId","dispatch","docRef","collection","doc","get","then","exists","alarm","data","console","log","type","payload","catch","error","selectAlarmChanging","getAlarms","Object","assign","querySnapshot","forEach","sort","a","b","timestamp","seconds","reverse","gettingAlarms","addAlarm","newAlarm","add","notifType","groupPin","title","alarmAdded","deleteAlarm","delete","editAlarm","set","alarmChanged"],"mappings":"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","sourcesContent":["import {db} from \"../components/Firebase\";\n\nconst selectAlarm= (id)=>{\n    let alarmData={}\n    let stringId=''+id+'';\n    return (dispatch)=>{\n        let docRef=db.collection(\"alarms\").doc(stringId)\n        docRef.get().then(function(doc){\n        if(doc.exists){\n            let alarm=doc.data();\n            alarmData={...alarm, id}\n        } else{\n            console.log(\"Something went wrong!\")\n        }\n        dispatch({\n            type: \"ALARM_SELECT\",\n            payload: alarmData,\n            id: id\n        })\n    }).catch(function(error) {\n        console.log(\"Error getting document:\", error);\n    });\n    }\n}\nconst selectAlarmChanging=()=>{\n    return{\n        type:\"ALARM_SELECT_CHANGED\"\n    }\n}\nconst getAlarms = () =>{\n    let data=Object.assign([])\n    return (dispatch) => {\n        db.collection(\"alarms\").get().then(function(querySnapshot) {\n            querySnapshot.forEach(function(doc) {\n            let alarm = doc.data();\n            alarm = {id: doc.id, ...alarm}\n            data=[...data, alarm]\n            data.sort(function(a,b){\n                return  a.timestamp.seconds - b.timestamp.seconds\n            }).reverse();\n            })           \n            dispatch({\n                type: \"ALARMS_GET\",\n                payload: data\n            })\n         })\n         .catch(function(error){\n            console.log(\"Error getting document:\", error);\n         })\n    }\n}\nconst gettingAlarms = () =>{\n    return{\n        type:\"GETTING_ALARMS\"\n    }\n}\nconst addAlarm = (newAlarm)=>{\n    return(dispatch)=>{\n        db.collection(\"alarms\").add({\n            notifType: \"alarm\",\n            groupPin: newAlarm.groupPin,\n            timestamp: newAlarm.timestamp,\n            title: newAlarm.title\n        }).then(function(){\n            dispatch({\n                type: 'ALARM_ADD',\n                payload: newAlarm\n            })\n        }).catch(error => {\n            console.log({ error });\n        });\n    }\n}\nconst alarmAdded=()=>{\n    return {\n        type: 'ALARM_ADDED'\n    }\n}\nconst deleteAlarm = (id) =>{\n    db.collection(\"alarms\").doc(id).delete().then(function(){\n        console.log(\"Group successfully deleted!\");\n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n    return{\n        type: \"ALARM_DELETE\",\n        id: id\n    }\n}\nconst editAlarm = (alarm) =>{\n    return(dispatch)=>{\n        db.collection(\"alarms\").doc(alarm.id).set(alarm).then(function() {\n            dispatch({\n                type:\"EDIT_ALARM\",\n                payload: alarm\n            })\n        })\n        .catch(function(error) {\n            console.error(\"Error writing document: \", error);\n        });\n    } \n}\nconst alarmChanged=()=>{\n    return{\n        type: \"ALARM_CHANGED\"\n    }\n}\nexport {getAlarms,gettingAlarms, addAlarm, alarmAdded, deleteAlarm, selectAlarm, selectAlarmChanging, editAlarm, alarmChanged}"]},"metadata":{},"sourceType":"module"}