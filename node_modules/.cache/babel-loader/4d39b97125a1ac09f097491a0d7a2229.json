{"ast":null,"code":"import _objectSpread from \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { db, auth, storageRef } from \"../components/Firebase\";\n\nconst resetChanged = () => {\n  return {\n    type: \"RESET_CHANGED\"\n  };\n};\n\nconst userResetChanged = () => {\n  return {\n    type: \"USER_RESET_CHANGED\"\n  };\n};\n\nconst userAddedChanged = () => {\n  return {\n    type: \"USER_ADDED\"\n  };\n};\n\nconst getSingleUser = id => {\n  let user = {};\n  let stringId = '' + id + '';\n  return dispatch => {\n    dispatch({\n      type: \"CHANGE_LOADING\"\n    });\n    let docRef = db.collection(\"users\").doc(stringId);\n    docRef.get().then(function (doc) {\n      if (doc.exists) {\n        user = doc.data();\n        user = _objectSpread({}, user, {\n          id\n        });\n      } else {\n        console.log(\"Something went wrong!\");\n      }\n\n      console.log(user);\n      dispatch({\n        type: \"USERS_SELECT\",\n        payload: user,\n        id: id\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n};\n\nconst getUsers = () => {\n  let data = [];\n  return dispatch => {\n    db.collection(\"users\").get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        let users = doc.data();\n        users = _objectSpread({\n          id: doc.id\n        }, users);\n        data = [users, ...data];\n      });\n      dispatch({\n        type: \"USERS_GET\",\n        payload: data\n      });\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n  };\n};\n\nconst addUser = user => {\n  return dispatch => {\n    let email = user.userName + \"@mail.com\";\n    auth.createUserWithEmailAndPassword(email, user.password).then(response => {\n      db.collection(\"users\").doc(response.user.uid).set({\n        GroupName: user.GroupName,\n        userType: user.userType,\n        userName: user.userName,\n        firstName: user.firstName,\n        lastName: user.lastName,\n        password: user.password,\n        tourGuide: user.tourGuide,\n        leadChaperone: user.leadChaperone,\n        profilePicture: user.profilePicture,\n        emergencyContact: user.emergencyContact\n      });\n      dispatch({\n        type: 'USER_ADD',\n        payload: user\n      });\n    }).catch(error => {\n      console.log({\n        error\n      });\n    });\n  };\n};\n\nconst deleteUser = id => {\n  db.collection(\"users\").doc(id).delete().then(function () {\n    console.log(\"Student successfully deleted!\");\n  }).catch(function (error) {\n    console.error(\"Error removing document: \", error);\n  });\n  return {\n    type: \"USER_DELETE\",\n    id: id\n  };\n};\n\nconst setUser = user => {\n  return dispatch => {\n    db.collection(\"users\").doc(user.id).set(user).then(function () {\n      dispatch({\n        type: \"USER_CHANGE_LOADING\"\n      });\n      dispatch({\n        type: \"USER_SET\",\n        payload: user\n      });\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  };\n};\n\nexport { getUsers, addUser, deleteUser, getSingleUser, setUser, userAddedChanged, resetChanged, userResetChanged };","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/Action/userAction.js"],"names":["db","auth","storageRef","resetChanged","type","userResetChanged","userAddedChanged","getSingleUser","id","user","stringId","dispatch","docRef","collection","doc","get","then","exists","data","console","log","payload","catch","error","getUsers","querySnapshot","forEach","users","addUser","email","userName","createUserWithEmailAndPassword","password","response","uid","set","GroupName","userType","firstName","lastName","tourGuide","leadChaperone","profilePicture","emergencyContact","deleteUser","delete","setUser"],"mappings":"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","sourcesContent":["import {db,auth, storageRef} from \"../components/Firebase\";\nconst resetChanged =() =>{\n    return{\n        type: \"RESET_CHANGED\"\n    }\n}\nconst userResetChanged =() =>{\n    return{\n        type: \"USER_RESET_CHANGED\"\n    }\n}\nconst userAddedChanged =() =>{\n    return{\n        type: \"USER_ADDED\"\n    }\n}\nconst getSingleUser= (id)=>{\n    let user={}\n    let stringId=''+id+'';\n    return (dispatch)=>{\n        dispatch({\n            type: \"CHANGE_LOADING\"\n        })\n        let docRef=db.collection(\"users\").doc(stringId)\n        docRef.get().then(function(doc){\n        if(doc.exists){\n            user=doc.data();\n            user={...user, id}\n        } else{\n            console.log(\"Something went wrong!\")\n        }\n        console.log(user)\n        dispatch({\n            type: \"USERS_SELECT\",\n            payload: user,\n            id: id\n        })\n    }).catch(function(error) {\n        console.log(\"Error getting document:\", error);\n    });\n    }\n}\nconst getUsers = () =>{\n    let data=[];\n    return (dispatch) => {\n        db.collection(\"users\").get().then(function(querySnapshot) {\n            querySnapshot.forEach(function(doc) {\n            let users = doc.data();\n            users= {id:doc.id,...users}\n            data=[users, ...data];\n            })           \n            dispatch({\n                type: \"USERS_GET\",\n                payload: data\n            })\n         })\n         .catch(function(error){\n            console.log(\"Error getting document:\", error);\n         })\n         \n    }\n}\nconst addUser = (user)=>{\n    return(dispatch)=>{\n    let email= user.userName + \"@mail.com\"\n    auth.createUserWithEmailAndPassword(email, user.password)\n    .then(response=>{\n        db.collection(\"users\").doc(response.user.uid).set({\n            GroupName: user.GroupName,\n            userType: user.userType,\n            userName: user.userName,\n            firstName: user.firstName,\n            lastName: user.lastName,\n            password: user.password,\n            tourGuide: user.tourGuide,\n            leadChaperone: user.leadChaperone,\n            profilePicture: user.profilePicture,\n            emergencyContact: user.emergencyContact\n            \n        })\n        dispatch({\n            type: 'USER_ADD',\n            payload: user\n        })\n    })\n    .catch(error => {\n        console.log({ error });\n    });\n    }\n}\nconst deleteUser = (id) =>{\n    db.collection(\"users\").doc(id).delete().then(function(){\n        console.log(\"Student successfully deleted!\");\n    }).catch(function(error) {\n        console.error(\"Error removing document: \", error);\n    });\n    return{\n        type: \"USER_DELETE\",\n        id: id\n    }\n}\nconst setUser = (user) =>{\n    \n    return(dispatch)=>{\n        db.collection(\"users\").doc(user.id).set(user).then(function() {\n            dispatch({\n                type: \"USER_CHANGE_LOADING\"\n            })\n            dispatch({\n                type:\"USER_SET\",\n                payload: user\n            })\n        })\n        .catch(function(error) {\n            console.error(\"Error writing document: \", error);\n        });\n    } \n}\nexport {getUsers, addUser, deleteUser, getSingleUser, setUser, userAddedChanged, resetChanged, userResetChanged};"]},"metadata":{},"sourceType":"module"}