{"ast":null,"code":"var _jsxFileName = \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Login from './components/Pages/login';\nimport Home from './components/Pages/home';\nimport Users from './components/Pages/User_Pages/users';\nimport addUser from \"./components/Pages/User_Pages/add_User\";\nimport User_Edit from \"./components/Pages/User_Pages/edit_User\";\nimport Groups from './components/Pages/Group_Pages/groups';\nimport addGroup from './components/Pages/Group_Pages/add_Group';\nimport groupEdit from './components/Pages/Group_Pages/groupEdit';\nimport Itinerary from './components/Pages/Itinerary_Pages/itinerary';\nimport ItineraryEdit from './components/Pages/Itinerary_Pages/itinerary_Edit';\nimport Notifications from './components/Pages/Notification_Pages/notifications';\nimport Send_Notification from './components/Pages/Notification_Pages/send_Notification';\nimport Alarm from './components/Pages/Alarm_Pages/alarm';\nimport Add_Alarm from './components/Pages/Alarm_Pages/add_Alarm';\nimport Edit_Alarm from './components/Pages/Alarm_Pages/edit_Alarm';\nimport Lost from './components/Pages/lost';\nimport Contact from './components/Pages/Contact_Pages/contact';\nimport Add_Contact from './components/Pages/Contact_Pages/add_Contact';\nimport Edit_Contact from './components/Pages/Contact_Pages/edit_Contact';\nimport About from './components/Pages/About_Pages/about.js';\nimport Settings from './components/Pages/settings';\nimport * as ROUTES from '../src/constants/routes';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport Navigation from './components/navigation';\nimport { auth } from \"./components/Firebase\";\nimport { compose } from 'recompose';\nimport { connect } from 'react-redux';\nimport { signOut } from \"../src/Action/sessionAction\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      this.props.signOut();\n      this.setState({\n        loginStatus: false\n      });\n      alert(\"You have been logged out due to being idle\");\n    };\n\n    this.state = {\n      authUser: null,\n      loginStatus: false\n    };\n    this.events = ['load', 'mousemove', 'mousedown', 'click', 'scroll', 'keypress', 'onbeforeunload'];\n    this.warn = this.warn.bind(this);\n    this.logout = this.logout.bind(this);\n    this.resetTimeout = this.resetTimeout.bind(this);\n\n    for (var i in this.events) {\n      window.addEventListener(this.events[i], this.resetTimeout);\n    }\n\n    if (this.props.authUser) {\n      this.setTimeout();\n    }\n\n    window.addEventListener(\"beforeunload\", function (ev) {\n      ev.preventDefault();\n      this.props.signOut();\n    });\n  }\n\n  componentDidMount() {\n    this.listener = auth.onAuthStateChanged(authUser => {\n      authUser ? this.setState({\n        authUser: true\n      }) : this.setState({\n        authUser: null\n      });\n    });\n    this.setState({\n      loginStatus: this.props.authUser\n    });\n    window.addEventListener(\"beforeunload\", function (ev) {\n      ev.preventDefault();\n      this.props.signOut();\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.props.authUser && this.state.loginStatus != true) {\n      this.setState({\n        loginStatus: this.props.authUser\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.listener();\n    window.addEventListener(\"beforeunload\", function (ev) {\n      ev.preventDefault();\n      this.props.signOut();\n    });\n  }\n\n  clearTimeout() {\n    if (this.warnTimeout) clearTimeout(this.warnTimeout);\n    if (this.logoutTimeout) clearTimeout(this.logoutTimeout);\n  }\n\n  setTimeout() {\n    if (this.state.loginStatus && this.props.authUser) {\n      this.logoutTimeout = setTimeout(this.logout, 9000 * 1000);\n    }\n  }\n\n  resetTimeout() {\n    this.clearTimeout();\n    this.setTimeout();\n  }\n\n  warn() {\n    alert(\"You will be logged out automatically in 2 seconds\");\n  }\n\n  destroy() {\n    this.clearTimeout();\n\n    for (var i in this.events) {\n      window.removeEventListener(this.events[i], this.resetTimeout);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      authUser: this.state.authUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: ROUTES.LANDING,\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.LOGIN,\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.HOME,\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.USERS,\n      component: Users,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.USER_ADD,\n      component: addUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.USER_EDIT,\n      component: User_Edit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.GROUPS,\n      component: Groups,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.GROUP_ADD,\n      component: addGroup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.GROUP_EDIT,\n      component: groupEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.ITINERARY,\n      component: Itinerary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.ITINERARY_EDIT,\n      component: ItineraryEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.NOTIFICATIONS,\n      component: Notifications,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.SEND_NOTIFICATION,\n      component: Send_Notification,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.ALARMS,\n      component: Alarm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.ALARM_ADD,\n      component: Add_Alarm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.ALARM_EDIT,\n      component: Edit_Alarm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.LOST,\n      component: Lost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.CONTACT,\n      component: Contact,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.CONTACT_ADD,\n      component: Add_Contact,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.CONTACT_EDIT,\n      component: Edit_Contact,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.ABOUT,\n      component: About,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: ROUTES.SETTINGS,\n      component: Settings,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }));\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser\n});\n\nexport default compose(connect(mapStateToProps, {\n  signOut\n}))(App);","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/App.js"],"names":["React","Component","Header","Footer","Login","Home","Users","addUser","User_Edit","Groups","addGroup","groupEdit","Itinerary","ItineraryEdit","Notifications","Send_Notification","Alarm","Add_Alarm","Edit_Alarm","Lost","Contact","Add_Contact","Edit_Contact","About","Settings","ROUTES","Route","BrowserRouter","Router","Navigation","auth","compose","connect","signOut","App","constructor","props","logout","setState","loginStatus","alert","state","authUser","events","warn","bind","resetTimeout","i","window","addEventListener","setTimeout","ev","preventDefault","componentDidMount","listener","onAuthStateChanged","componentDidUpdate","componentWillUnmount","clearTimeout","warnTimeout","logoutTimeout","destroy","removeEventListener","render","LANDING","LOGIN","HOME","USERS","USER_ADD","USER_EDIT","GROUPS","GROUP_ADD","GROUP_EDIT","ITINERARY","ITINERARY_EDIT","NOTIFICATIONS","SEND_NOTIFICATION","ALARMS","ALARM_ADD","ALARM_EDIT","LOST","CONTACT","CONTACT_ADD","CONTACT_EDIT","ABOUT","SETTINGS","mapStateToProps","sessionState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Header from './components/header';\nimport Footer from './components/footer';\nimport Login from './components/Pages/login';\nimport Home from './components/Pages/home';\nimport Users from './components/Pages/User_Pages/users';\nimport addUser from \"./components/Pages/User_Pages/add_User\";\nimport User_Edit from \"./components/Pages/User_Pages/edit_User\";\nimport Groups from './components/Pages/Group_Pages/groups';\nimport addGroup from './components/Pages/Group_Pages/add_Group';\nimport groupEdit from './components/Pages/Group_Pages/groupEdit';\nimport Itinerary from './components/Pages/Itinerary_Pages/itinerary';\nimport ItineraryEdit from './components/Pages/Itinerary_Pages/itinerary_Edit'\nimport Notifications from './components/Pages/Notification_Pages/notifications';\nimport Send_Notification from './components/Pages/Notification_Pages/send_Notification'\nimport Alarm from './components/Pages/Alarm_Pages/alarm';\nimport Add_Alarm from './components/Pages/Alarm_Pages/add_Alarm';\nimport Edit_Alarm from './components/Pages/Alarm_Pages/edit_Alarm';\nimport Lost from './components/Pages/lost';\nimport Contact from './components/Pages/Contact_Pages/contact';\nimport Add_Contact from './components/Pages/Contact_Pages/add_Contact';\nimport Edit_Contact from './components/Pages/Contact_Pages/edit_Contact';\nimport About from './components/Pages/About_Pages/about.js';\nimport Settings from './components/Pages/settings';\nimport * as ROUTES from '../src/constants/routes';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport Navigation from './components/navigation';\nimport {auth} from \"./components/Firebase\";\nimport { compose } from 'recompose';\nimport { connect } from 'react-redux';\nimport {signOut} from \"../src/Action/sessionAction\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authUser: null,\n      loginStatus: false\n    };\n    this.events = [\n      'load',\n      'mousemove',\n      'mousedown',\n      'click',\n      'scroll',\n      'keypress',\n      'onbeforeunload'\n    ];\n    this.warn = this.warn.bind(this);\n    this.logout = this.logout.bind(this);\n    this.resetTimeout = this.resetTimeout.bind(this);\n\n    for (var i in this.events) {\n      window.addEventListener(this.events[i], this.resetTimeout);\n    }\n    if(this.props.authUser){\n      this.setTimeout();\n    }\n    window.addEventListener(\"beforeunload\", function (ev) {\n      ev.preventDefault();\n      this.props.signOut()\n    })\n  }\n  componentDidMount() {\n    this.listener = auth.onAuthStateChanged(\n    authUser => {\n      authUser\n        ? this.setState({ authUser: true })\n        : this.setState({ authUser: null });\n    });\n    this.setState({loginStatus:this.props.authUser})\n    window.addEventListener(\"beforeunload\", function (ev) {\n      ev.preventDefault();\n      this.props.signOut()\n    })\n  }\n  componentDidUpdate(){\n    if(this.props.authUser && this.state.loginStatus != true){\n      this.setState({loginStatus:this.props.authUser})\n    }\n  }\n  componentWillUnmount() {\n    this.listener();\n    window.addEventListener(\"beforeunload\", function (ev) {\n      ev.preventDefault();\n      this.props.signOut()\n    })\n  }\n  clearTimeout() {\n      if (this.warnTimeout) clearTimeout(this.warnTimeout);\n      if (this.logoutTimeout) clearTimeout(this.logoutTimeout);\n  }\n\n  setTimeout() {\n      if(this.state.loginStatus && this.props.authUser){\n      this.logoutTimeout = setTimeout(this.logout, 9000 * 1000);\n      }\n    \n  }\n  resetTimeout() {\n    this.clearTimeout();\n    this.setTimeout();\n  }\n  warn() {\n    alert(\"You will be logged out automatically in 2 seconds\");\n  }\n  logout = () => {\n    this.props.signOut()\n    this.setState({loginStatus: false})\n    alert(\"You have been logged out due to being idle\")\n  };\n  destroy() {\n    this.clearTimeout();\n\n    for (var i in this.events) {\n      window.removeEventListener(this.events[i], this.resetTimeout);\n    }\n  }\n  render(){\n  return (\n    <div className=\"App\">\n      <Header />\n          <Router>\n            <div>\n              <Navigation authUser={this.state.authUser}/>\n              <Route exact path={ROUTES.LANDING} component={Login} />\n              <Route path={ROUTES.LOGIN} component={Login} />\n              <Route path={ROUTES.HOME} component={Home} />\n              <Route path={ROUTES.USERS} component={Users} />\n              <Route path={ROUTES.USER_ADD} component={addUser} />\n              <Route path={ROUTES.USER_EDIT} component={User_Edit} />\n              <Route path={ROUTES.GROUPS} component={Groups} />\n              <Route path={ROUTES.GROUP_ADD} component={addGroup} />\n              <Route path={ROUTES.GROUP_EDIT} component={groupEdit} />\n              <Route path={ROUTES.ITINERARY} component={Itinerary} />\n              <Route path={ROUTES.ITINERARY_EDIT} component={ItineraryEdit}/>\n              <Route path={ROUTES.NOTIFICATIONS} component={Notifications} />\n              <Route path={ROUTES.SEND_NOTIFICATION} component={Send_Notification}/>\n              <Route path={ROUTES.ALARMS} component={Alarm} />\n              <Route path={ROUTES.ALARM_ADD} component={Add_Alarm} />\n              <Route path={ROUTES.ALARM_EDIT} component={Edit_Alarm} />\n              <Route path={ROUTES.LOST} component={Lost} />\n              <Route path={ROUTES.CONTACT} component={Contact} />\n              <Route path={ROUTES.CONTACT_ADD} component={Add_Contact} />\n              <Route path={ROUTES.CONTACT_EDIT} component={Edit_Contact} />\n              <Route path={ROUTES.ABOUT} component={About} />\n              <Route path={ROUTES.SETTINGS} component={Settings} />\n            </div>\n          </Router>\n        <Footer/>\n    </div>\n  );\n};\n};\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser\n});\nexport default compose( \n  connect( mapStateToProps,{signOut})\n)(App);\n\n"]},"metadata":{},"sourceType":"module"}