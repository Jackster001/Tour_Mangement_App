{"ast":null,"code":"import _objectSpread from \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Pages/User_Pages/edit_User.js\";\nimport React from 'react';\nimport '../../components.css';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { withAuthorization } from '../../Session';\nimport { setUser, userResetChanged } from '../../../Action';\nimport * as ROUTES from '../../../constants/routes';\n\nclass User_Edit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: this.props.selected,\n      id: this.props.selected.id,\n      Group_Name: \"\",\n      original_Name: \"\",\n      GroupName: this.props.GroupName,\n      Group_Pin: this.props.selected.groupPin,\n      userType: this.props.selected.userType,\n      Username: this.props.selected.userName,\n      firstName: this.props.selected.firstName,\n      lastName: this.props.selected.lastName,\n      Password: this.props.selected.password,\n      tourGuideFirstName: this.props.selected.tourGuide.firstName,\n      leadChaperoneFirstName: this.props.selected.leadChaperone.firstName,\n      profilePicture: this.props.selected.url,\n      name: this.props.selected.emergencyContact.name,\n      phoneNumber: this.props.selected.emergencyContact.phoneNumber,\n      relationship: this.props.selected.emergencyContact.relationship\n    };\n  }\n\n  componentDidMount() {\n    //getting the group name \n    let groupPin = this.state.Group_Pin;\n    let group = Object.assign([{}]);\n    group = this.props.groups.filter(function (group) {\n      return group.pin == groupPin;\n    });\n    let selectedGroup = Object.assign({}, group[0]);\n    let groupName = selectedGroup.name;\n    console.log(this.state.user);\n    this.setState({\n      Group_Name: groupName,\n      original_Name: groupName\n    });\n  }\n\n  onChangeGroupName(event) {\n    console.log(event.target.value);\n    return this.setState(_objectSpread({}, this.state, {\n      Group_Name: event.target.value\n    }));\n  }\n\n  componentDidUpdate() {\n    if (this.props.userChanged) {\n      this.props.userResetChanged();\n      console.log(this.props.changed);\n      this.props.history.push('/student/' + this.props.id);\n    }\n  }\n\n  onChangeUserType(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      userType: event.target.value\n    }));\n  }\n\n  onChangeUsername(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      Username: event.target.value\n    }));\n  }\n\n  onChangeFirstName(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      firstName: event.target.value\n    }));\n  }\n\n  onChangeLastName(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      lastName: event.target.value\n    }));\n  }\n\n  onChangePassword(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      Password: event.target.value\n    }));\n  }\n\n  onChangeTourGuide(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      tourGuideFirstName: event.target.value\n    }));\n  }\n\n  onChangeChaperone(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      leadChaperoneFirstName: event.target.value\n    }));\n  }\n\n  onChangeFullName(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      name: event.target.value\n    }));\n  }\n\n  onChangePhoneNumber(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      phoneNumber: event.target.value\n    }));\n  }\n\n  onChangeRelationship(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      relationship: event.target.value\n    }));\n  }\n\n  handleEdit() {\n    let groupPin = this.props.groups.filter(group => {\n      if (group.name === this.state.Group_Name) {\n        return group.pin;\n      }\n    });\n    let updatedUser = {\n      id: this.state.user.id,\n      GroupName: this.state.Group_Name,\n      groupPin: groupPin,\n      userType: this.state.userType,\n      userName: this.state.Username,\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      password: this.state.Password,\n      tourGuide: {\n        firstName: this.state.tourGuideFirstName,\n        lastName: this.props.selected.lastName,\n        id: this.props.selected.id\n      },\n      leadChaperone: {\n        firstName: this.state.leadChaperoneFirstName,\n        lastName: this.props.selected.lastName,\n        id: this.props.selected.id\n      },\n      profilePicture: this.state.profilePicture,\n      emergencyContact: {\n        name: this.state.name,\n        phoneNumber: this.state.phoneNumber,\n        relationship: this.state.relationship\n      }\n    };\n    this.props.setUser(updatedUser);\n    this.props.history.push(ROUTES.USERS);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"add_Table_Styles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"editFormHeading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"User Management\")), React.createElement(\"img\", {\n      className: \"group_Logo_Edit\",\n      src: this.props.selected.profilePicture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      className: \"add_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Edit User Information\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"group_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Group Name: \")), React.createElement(\"select\", {\n      name: \"group_name\",\n      onChange: this.onChangeGroupName.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.Group_Name), this.props.groups.map(function (group) {\n      return React.createElement(\"option\", {\n        value: group.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, group.name);\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"group_type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"User Type: \")), React.createElement(\"select\", {\n      name: \"group_type\",\n      onChange: this.onChangeUserType.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, this.props.selected.userType), React.createElement(\"option\", {\n      value: \"Student\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Student\"), React.createElement(\"option\", {\n      value: \"Director\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Director\"), React.createElement(\"option\", {\n      value: \"Tour Guide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Tour Guide\"), React.createElement(\"option\", {\n      value: \"Lead Chaperone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Lead Chaperone\"), React.createElement(\"option\", {\n      value: \"Parent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Parent\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Username: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeUsername.bind(this),\n      placeholder: this.props.selected.userName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"First Name: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeFirstName.bind(this),\n      placeholder: this.props.selected.firstName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Last Name: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeLastName.bind(this),\n      placeholder: this.props.selected.lastName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Password: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangePassword.bind(this),\n      placeholder: this.props.selected.password,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"guide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Tour Guide: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"guide\",\n      onChange: this.onChangeTourGuide.bind(this),\n      placeholder: this.props.selected.tourGuide.firstName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"chaperone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Chaperone: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"chaperone\",\n      onChange: this.onChangeChaperone.bind(this),\n      placeholder: this.props.selected.leadChaperone.firstName,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Emergency Contact Information\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Full Name: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeFullName.bind(this),\n      placeholder: this.props.selected.emergencyContact.name,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Phone Number: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangePhoneNumber.bind(this),\n      placeholder: this.props.selected.emergencyContact.phoneNumber,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Relationship: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeRelationship.bind(this),\n      placeholder: this.props.selected.emergencyContact.relationship,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"update_Button\",\n      onClick: () => this.handleEdit(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Update User\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  users: state.userState.users,\n  selected: state.userState.selected,\n  changed: state.userState.selected,\n  listLoading: state.userState.listLoading,\n  userChanged: state.userState.userChanged,\n  groups: state.groupState.groups\n});\n\nconst condition = authUser => !!authUser;\n\nexport default compose(connect(mapStateToProps, {\n  setUser,\n  userResetChanged\n}), withAuthorization(condition))(User_Edit);","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Pages/User_Pages/edit_User.js"],"names":["React","connect","compose","withAuthorization","setUser","userResetChanged","ROUTES","User_Edit","Component","constructor","props","state","user","selected","id","Group_Name","original_Name","GroupName","Group_Pin","groupPin","userType","Username","userName","firstName","lastName","Password","password","tourGuideFirstName","tourGuide","leadChaperoneFirstName","leadChaperone","profilePicture","url","name","emergencyContact","phoneNumber","relationship","componentDidMount","group","Object","assign","groups","filter","pin","selectedGroup","groupName","console","log","setState","onChangeGroupName","event","target","value","componentDidUpdate","userChanged","changed","history","push","onChangeUserType","onChangeUsername","onChangeFirstName","onChangeLastName","onChangePassword","onChangeTourGuide","onChangeChaperone","onChangeFullName","onChangePhoneNumber","onChangeRelationship","handleEdit","updatedUser","USERS","render","bind","map","mapStateToProps","users","userState","listLoading","groupState","condition","authUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../components.css';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { withAuthorization } from '../../Session';\nimport {setUser, userResetChanged} from '../../../Action'\nimport * as ROUTES from '../../../constants/routes';\nclass User_Edit extends React.Component {\n   constructor(props){\n      super(props);\n      this.state={\n         user: this.props.selected,\n         id: this.props.selected.id,\n         Group_Name: \"\",\n         original_Name :\"\",\n         GroupName: this.props.GroupName,\n         Group_Pin: this.props.selected.groupPin,\n         userType: this.props.selected.userType,\n         Username: this.props.selected.userName,\n         firstName: this.props.selected.firstName,\n         lastName: this.props.selected.lastName,\n         Password: this.props.selected.password,\n         tourGuideFirstName: this.props.selected.tourGuide.firstName,\n         leadChaperoneFirstName: this.props.selected.leadChaperone.firstName,\n         profilePicture: this.props.selected.url,\n         name:this.props.selected.emergencyContact.name,\n         phoneNumber: this.props.selected.emergencyContact.phoneNumber,\n         relationship:this.props.selected.emergencyContact.relationship\n         }\n      }\n   componentDidMount(){\n      //getting the group name \n      let groupPin= this.state.Group_Pin;\n      let group=Object.assign([{}])\n      group= this.props.groups.filter(function(group){\n         return (group.pin == groupPin);\n      })\n      let selectedGroup=Object.assign({},group[0]);\n      let groupName=selectedGroup.name;\n      console.log(this.state.user);\n      this.setState({Group_Name: groupName, original_Name: groupName})\n   }\n   onChangeGroupName(event){\n      console.log(event.target.value)\n      return (\n         this.setState({...this.state, Group_Name: event.target.value})\n      )\n   }\n   componentDidUpdate(){\n   if(this.props.userChanged){\n         this.props.userResetChanged()\n         console.log(this.props.changed);\n\n         this.props.history.push('/student/'+this.props.id);\n      }\n      \n  }\n   onChangeUserType(event){\n      return (\n         this.setState({...this.state, userType: event.target.value})\n      )\n   }\n   onChangeUsername(event){\n      return (\n         this.setState({...this.state, Username: event.target.value})\n      )\n   }\n   onChangeFirstName(event){\n      return (\n         this.setState({...this.state, firstName: event.target.value})\n      )\n   }\n   onChangeLastName(event){\n      return (\n         this.setState({...this.state, lastName: event.target.value})\n      )\n   }\n   onChangePassword(event){\n      return (\n         this.setState({...this.state, Password: event.target.value})\n      )\n   }\n   onChangeTourGuide(event){\n      return (\n         this.setState({...this.state, tourGuideFirstName: event.target.value})\n      )\n   }\n   onChangeChaperone(event){\n      return (\n         this.setState({...this.state, leadChaperoneFirstName: event.target.value})\n      )\n   }\n   onChangeFullName(event){\n      return (\n         this.setState({...this.state, name: event.target.value})\n      )\n   }\n   onChangePhoneNumber(event){\n      return (\n         this.setState({...this.state, phoneNumber: event.target.value})\n      )\n   }\n   onChangeRelationship(event){\n      return (\n         this.setState({...this.state, relationship: event.target.value})\n      )\n   }\n   handleEdit(){\n      let groupPin= this.props.groups.filter((group)=>{\n         if(group.name === this.state.Group_Name){\n            return(group.pin)\n         }\n      })\n      let updatedUser = {\n         id: this.state.user.id,\n         GroupName: this.state.Group_Name,\n         groupPin: groupPin,\n         userType: this.state.userType,\n         userName: this.state.Username,\n         firstName: this.state.firstName,\n         lastName: this.state.lastName,\n         password: this.state.Password,\n         tourGuide: {\n            firstName: this.state.tourGuideFirstName,\n            lastName: this.props.selected.lastName,\n            id: this.props.selected.id\n         },\n         leadChaperone: {\n            firstName: this.state.leadChaperoneFirstName,\n            lastName: this.props.selected.lastName,\n            id: this.props.selected.id\n         },\n         profilePicture: this.state.profilePicture,\n         emergencyContact:{\n            name: this.state.name,\n            phoneNumber: this.state.phoneNumber,\n            relationship: this.state.relationship\n         }\n      }\n      this.props.setUser(updatedUser);\n      this.props.history.push(ROUTES.USERS)\n   }\n   render() {\n      return (\n         <div>\n            <br/><br/><br/><br/>\n            <div className=\"add_Table_Styles\">\n               <div className=\"editFormHeading\"><h1>User Management</h1></div>\n               <img className=\"group_Logo_Edit\" src={this.props.selected.profilePicture}/>\n               <form className=\"add_form\">\n               <center><h2>Edit User Information</h2></center><br/>\n                  <label htmlFor=\"group_name\"><b>Group Name: </b></label>\n                  <select name=\"group_name\" onChange={this.onChangeGroupName.bind(this)} required>\n                    <option disabled selected defaultValue>{this.state.Group_Name}</option>\n                        {this.props.groups.map(function(group){\n                            return (<option value={group.name}>{group.name}</option>)\n                        })}\n                  </select><br/><br/>\n                  <label htmlFor=\"group_type\"><b>User Type: </b></label>\n                  <select name=\"group_type\" onChange={this.onChangeUserType.bind(this)} required>\n                  <option disabled selected defaultValue>{this.props.selected.userType}</option>\n                     <option value=\"Student\">Student</option>\n                     <option value=\"Director\">Director</option>\n                     <option value=\"Tour Guide\">Tour Guide</option>\n                     <option value=\"Lead Chaperone\">Lead Chaperone</option>\n                     <option value=\"Parent\">Parent</option>\n                  </select><br/><br/>\n                  <label htmlFor=\"name\"><b>Username: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeUsername.bind(this)} placeholder={this.props.selected.userName} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>First Name: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeFirstName.bind(this)} placeholder={this.props.selected.firstName} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Last Name: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeLastName.bind(this)} placeholder={this.props.selected.lastName} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Password: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangePassword.bind(this)} placeholder={this.props.selected.password} required/><br/><br/>\n                  <label htmlFor=\"guide\"><b>Tour Guide: </b></label> \n                  <input type=\"text\" name=\"guide\" onChange={this.onChangeTourGuide.bind(this)} placeholder={this.props.selected.tourGuide.firstName} required/><br/><br/>\n                  <label htmlFor=\"chaperone\"><b>Chaperone: </b></label>\n                  <input type=\"text\" name=\"chaperone\" onChange={this.onChangeChaperone.bind(this)} placeholder={this.props.selected.leadChaperone.firstName} required/><br/><br/>\n                  <hr/><br/>\n                  <center><h2>Emergency Contact Information</h2></center><br/>\n                  <label htmlFor=\"name\"><b>Full Name: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeFullName.bind(this)} placeholder={this.props.selected.emergencyContact.name} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Phone Number: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangePhoneNumber.bind(this)} placeholder={this.props.selected.emergencyContact.phoneNumber} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Relationship: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeRelationship.bind(this)} placeholder={this.props.selected.emergencyContact.relationship} required/><br/><br/>\n                  <button type=\"button\" className=\"update_Button\" onClick={()=>this.handleEdit()}>Update User</button>\n               </form>\n         </div></div>\n      );\n   }\n}\nconst mapStateToProps = state => ({\n   users: state.userState.users,\n   selected: state.userState.selected,\n   changed: state.userState.selected,\n   listLoading: state.userState.listLoading,\n   userChanged: state.userState.userChanged,\n   groups: state.groupState.groups\n });\nconst condition = authUser => !!authUser;\nexport default compose(\n   connect(\n     mapStateToProps,\n     {setUser, userResetChanged}\n   ),withAuthorization(condition)\n)(User_Edit);"]},"metadata":{},"sourceType":"module"}