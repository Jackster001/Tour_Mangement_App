{"ast":null,"code":"import _objectSpread from \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Pages/User_Pages/add_User.js\";\nimport React from 'react';\nimport '../../components.css';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { withAuthorization } from '../../Session';\nimport { addUser, getUsers, userAddedChanged, recievingUsers } from '../../../Action';\nimport { getGroups, gettingGroups } from '../../../Action/groupAction';\nimport * as firebase from \"firebase\";\n\nclass Add_User extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: [],\n      users: [],\n      Group_Name: \"\",\n      userType: \"\",\n      Username: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      Password: \"\",\n      userPhoneNumber: \"\",\n      tourGuide: {},\n      leadChaperone: {},\n      profilePicture: \"\",\n      name: \"\",\n      number: \"\",\n      relationship: '',\n      avaliableTourGuides: [],\n      avaliableLeadChaperones: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.getUsers();\n    this.props.getGroups();\n  }\n\n  componentDidUpdate() {\n    if (this.props.gettingUsers) {\n      this.props.recievingUsers();\n      this.setState(_objectSpread({}, this.state, {\n        users: this.props.users\n      }));\n    }\n\n    if (this.props.userAdded) {\n      this.props.userAddedChanged();\n      this.props.getUsers();\n      this.props.history.push('/users');\n    }\n\n    if (this.props.groupRecieving) {\n      this.props.gettingGroups();\n      this.setState(_objectSpread({}, this.state, {\n        groups: this.props.groups\n      }));\n    }\n  }\n\n  onChangeGroupName(event) {\n    let avaliableTourGuides = this.props.users.filter(user => {\n      return user.userType === 'Tour Guide' && user.groupName === event.target.value;\n    });\n    let avaliableLeadChaperones = this.props.users.filter(user => {\n      return user.userType === 'Lead Chaperone' && user.groupName === event.target.value;\n    });\n    this.setState(_objectSpread({}, this.state, {\n      Group_Name: event.target.value,\n      avaliableTourGuides: avaliableTourGuides,\n      avaliableLeadChaperones: avaliableLeadChaperones\n    }));\n  }\n\n  onChangeUserType(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      userType: event.target.value\n    }));\n  }\n\n  onChangeUsername(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      Username: event.target.value\n    }));\n  }\n\n  onChangeFirstName(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      firstName: event.target.value\n    }));\n  }\n\n  onChangeLastName(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      lastName: event.target.value\n    }));\n  }\n\n  onChangePassword(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      Password: event.target.value\n    }));\n  }\n\n  onChangePhoneNumber(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      userPhoneNumber: event.target.value\n    }));\n  }\n\n  onChangeTourGuide(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      tourGuide: JSON.parse(event.target.value)\n    }));\n  }\n\n  onChangeChaperone(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      leadChaperone: JSON.parse(event.target.value)\n    }));\n  }\n\n  onChangeFullName(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      name: event.target.value\n    }));\n  }\n\n  onChangeEmergencyPhoneNumber(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      number: event.target.value\n    }));\n  }\n\n  onChangeRelationship(event) {\n    return this.setState(_objectSpread({}, this.state, {\n      relationship: event.target.value\n    }));\n  }\n\n  setUser() {\n    let groupPin = this.props.groups.filter(group => {\n      if (group.name === this.state.Group_Name) {\n        return group.pin;\n      }\n    });\n    let date = firebase.firestore.Timestamp.fromDate(new Date());\n    let newUser = {\n      groupName: this.state.Group_Name,\n      dateCreated: date,\n      groupPin: groupPin[0].pin,\n      userType: this.state.userType,\n      userName: this.state.Username,\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      password: this.state.Password,\n      phoneNumber: this.state.userPhoneNumber,\n      profilePicture: \"\",\n      tourGuide: this.state.tourGuide,\n      leadChaperone: this.state.leadChaperone,\n      emergencyContact: {\n        name: this.state.name,\n        phoneNumber: this.state.number,\n        relationship: this.state.relationship\n      }\n    };\n    this.props.addUser(newUser);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"add_Table_Styles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"addFormHeading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"User Management\")), React.createElement(\"form\", {\n      className: \"add_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"User Information\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"group_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Group Name: \")), React.createElement(\"select\", {\n      name: \"group_name\",\n      onChange: this.onChangeGroupName.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \" -- select an option -- \"), this.state.groups.map(function (group) {\n      return React.createElement(\"option\", {\n        value: group.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, group.name);\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"group_type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"User Type: \")), React.createElement(\"select\", {\n      name: \"group_type\",\n      onChange: this.onChangeUserType.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \" -- select an option -- \"), React.createElement(\"option\", {\n      value: \"Student\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Student\"), React.createElement(\"option\", {\n      value: \"Director\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Director\"), React.createElement(\"option\", {\n      value: \"Tour Guide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Tour Guide\"), React.createElement(\"option\", {\n      value: \"Lead Chaperone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Lead Chaperone\"), React.createElement(\"option\", {\n      value: \"Lead Chaperone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Chaperone\"), React.createElement(\"option\", {\n      value: \"Guest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Non-Traveling Guest\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Username: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeUsername.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"First Name: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeFirstName.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Last Name: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeLastName.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Phone Number: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangePhoneNumber.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Password: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangePassword.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"guide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Tour Guide: \")), React.createElement(\"select\", {\n      name: \"guide\",\n      onChange: this.onChangeTourGuide.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \" -- select an option -- \"), this.state.avaliableTourGuides.map(function (user, key) {\n      let tourGuide = {\n        firstName: user.firstName,\n        lastName: user.lastName,\n        id: user.id\n      };\n      return React.createElement(\"option\", {\n        key: key,\n        value: JSON.stringify(tourGuide),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"\".concat(user.firstName, \" \").concat(user.lastName));\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"chaperone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Chaperone: \")), React.createElement(\"select\", {\n      name: \"guide\",\n      onChange: this.onChangeChaperone.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      selected: true,\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \" -- select an option -- \"), this.state.avaliableLeadChaperones.map(function (user, key) {\n      let leadChaperone = {\n        firstName: user.firstName,\n        lastName: user.lastName,\n        id: user.id\n      };\n      return React.createElement(\"option\", {\n        key: key,\n        value: JSON.stringify(leadChaperone),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"\".concat(user.firstName, \" \").concat(user.lastName));\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Emergency Contact Information\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, \"Full Name: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeFullName.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Phone Number: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeEmergencyPhoneNumber.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Relationship: \")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChangeRelationship.bind(this),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"Submit_Button\",\n      onClick: () => this.setUser(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Add User\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  users: state.userState.users,\n  userAdded: state.userState.userAdded,\n  gettingUsers: state.userState.gettingUsers,\n  groups: state.groupState.groups,\n  groupRecieving: state.groupState.groupRecieving\n});\n\nconst condition = authUser => !!authUser;\n\nexport default compose(connect(mapStateToProps, {\n  addUser,\n  userAddedChanged,\n  getUsers,\n  gettingGroups,\n  getGroups,\n  recievingUsers\n}), withAuthorization(condition))(Add_User);","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Pages/User_Pages/add_User.js"],"names":["React","connect","compose","withAuthorization","addUser","getUsers","userAddedChanged","recievingUsers","getGroups","gettingGroups","firebase","Add_User","Component","constructor","props","state","groups","users","Group_Name","userType","Username","firstName","lastName","Password","userPhoneNumber","tourGuide","leadChaperone","profilePicture","name","number","relationship","avaliableTourGuides","avaliableLeadChaperones","componentDidMount","componentDidUpdate","gettingUsers","setState","userAdded","history","push","groupRecieving","onChangeGroupName","event","filter","user","groupName","target","value","onChangeUserType","onChangeUsername","onChangeFirstName","onChangeLastName","onChangePassword","onChangePhoneNumber","onChangeTourGuide","JSON","parse","onChangeChaperone","onChangeFullName","onChangeEmergencyPhoneNumber","onChangeRelationship","setUser","groupPin","group","pin","date","firestore","Timestamp","fromDate","Date","newUser","dateCreated","userName","password","phoneNumber","emergencyContact","render","bind","map","key","id","stringify","mapStateToProps","userState","groupState","condition","authUser"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../components.css';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { withAuthorization } from '../../Session';\nimport {addUser, getUsers, userAddedChanged, recievingUsers} from '../../../Action'\nimport {getGroups, gettingGroups} from '../../../Action/groupAction';\nimport * as firebase from \"firebase\";\nclass Add_User extends React.Component {\n   constructor(props){\n      super(props);\n      this.state={\n            groups:[],\n            users:[],\n            Group_Name: \"\",\n            userType: \"\",\n            Username: \"\",\n            firstName: \"\",\n            lastName: \"\",\n            Password: \"\",\n            userPhoneNumber: \"\",\n            tourGuide: {},\n            leadChaperone: {},\n            profilePicture: \"\",\n            name:\"\",\n            number: \"\",\n            relationship:'',\n            avaliableTourGuides: [],\n            avaliableLeadChaperones: []\n         }\n   }\n   componentDidMount(){\n      this.props.getUsers();\n      this.props.getGroups();\n   }\n   componentDidUpdate(){\n      if(this.props.gettingUsers){\n         this.props.recievingUsers()\n         this.setState({...this.state, users: this.props.users})\n      }\n      if(this.props.userAdded){\n         this.props.userAddedChanged();\n         this.props.getUsers();\n         \n         this.props.history.push('/users');\n      }\n      if(this.props.groupRecieving){\n         this.props.gettingGroups()\n         this.setState({...this.state, groups: this.props.groups })\n      }\n   }\n\n   onChangeGroupName(event){\n      let avaliableTourGuides=this.props.users.filter(user=>{\n         return user.userType === 'Tour Guide' && user.groupName === event.target.value\n      })\n      let avaliableLeadChaperones=this.props.users.filter(user=>{\n         return user.userType === 'Lead Chaperone' && user.groupName === event.target.value\n      })\n      this.setState({...this.state, Group_Name: event.target.value, avaliableTourGuides: avaliableTourGuides, avaliableLeadChaperones: avaliableLeadChaperones})  \n   }\n   onChangeUserType(event){\n      return (\n         this.setState({...this.state, userType: event.target.value})\n      )\n   }\n   onChangeUsername(event){\n      return (\n         this.setState({...this.state, Username: event.target.value})\n      )\n   }\n   onChangeFirstName(event){\n      return (\n         this.setState({...this.state, firstName: event.target.value})\n      )\n   }\n   onChangeLastName(event){\n      return (\n         this.setState({...this.state, lastName: event.target.value})\n      )\n   }\n   onChangePassword(event){\n      return (\n         this.setState({...this.state, Password: event.target.value})\n      )\n   }\n   onChangePhoneNumber(event){\n      return (\n         this.setState({...this.state, userPhoneNumber: event.target.value})\n      )\n   }\n   onChangeTourGuide(event){\n      return (\n         this.setState({...this.state, tourGuide: JSON.parse(event.target.value)})\n      )\n   }\n   onChangeChaperone(event){\n      return (\n         this.setState({...this.state, leadChaperone: JSON.parse(event.target.value)})\n      )\n   }\n   onChangeFullName(event){\n      return (\n         this.setState({...this.state, name: event.target.value})\n      )\n   }\n   onChangeEmergencyPhoneNumber(event){\n      return (\n         this.setState({...this.state, number: event.target.value})\n      )\n   }\n   onChangeRelationship(event){\n      return (\n         this.setState({...this.state, relationship: event.target.value})\n      )\n   }\n   setUser(){\n      let groupPin= this.props.groups.filter((group)=>{\n         if(group.name === this.state.Group_Name){\n            return(group.pin)\n         }\n      })\n      let date= firebase.firestore.Timestamp.fromDate(new Date());\n      let newUser = {\n         groupName: this.state.Group_Name,\n         dateCreated: date,\n         groupPin: groupPin[0].pin,\n         userType: this.state.userType,\n         userName: this.state.Username,\n         firstName: this.state.firstName,\n         lastName: this.state.lastName,\n         password: this.state.Password,\n         phoneNumber:this.state.userPhoneNumber,\n         profilePicture: \"\",\n         tourGuide: this.state.tourGuide,\n         leadChaperone: this.state.leadChaperone,\n         emergencyContact:{\n            name: this.state.name,\n            phoneNumber: this.state.number,\n            relationship: this.state.relationship\n         }\n      }\n      this.props.addUser(newUser);\n   }\n   render() {\n      return (\n         <div>\n            <br/><br/><br/><br/>\n            <div className=\"add_Table_Styles\">\n            <div className=\"addFormHeading\"><h1>User Management</h1></div>\n               <form className=\"add_form\">\n                  <center><h2>User Information</h2></center><br/>\n                  <label htmlFor=\"group_name\"><b>Group Name: </b></label>\n                  <select name=\"group_name\" onChange={this.onChangeGroupName.bind(this)} required>\n                    <option disabled selected defaultValue> -- select an option -- </option>\n                        {this.state.groups.map(function(group){\n                            return (<option value={group.name}>{group.name}</option>)\n                        })}\n                  </select><br/><br/>\n                  <label htmlFor=\"group_type\"><b>User Type: </b></label>\n                  <select name=\"group_type\" onChange={this.onChangeUserType.bind(this)} required>\n                  <option disabled selected defaultValue> -- select an option -- </option>\n                     <option value=\"Student\">Student</option>\n                     <option value=\"Director\">Director</option>\n                     <option value=\"Tour Guide\">Tour Guide</option>\n                     <option value=\"Lead Chaperone\">Lead Chaperone</option>\n                     <option value=\"Lead Chaperone\">Chaperone</option>\n                     <option value=\"Guest\">Non-Traveling Guest</option>\n                  </select><br/><br/>\n                  <label htmlFor=\"name\"><b>Username: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeUsername.bind(this)} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>First Name: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeFirstName.bind(this)} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Last Name: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeLastName.bind(this)} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Phone Number: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangePhoneNumber.bind(this)} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Password: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangePassword.bind(this)} required/><br/><br/>\n                  <label htmlFor=\"guide\"><b>Tour Guide: </b></label>\n                  <select name=\"guide\" onChange={this.onChangeTourGuide.bind(this)} required>\n                  <option disabled selected defaultValue> -- select an option -- </option>\n                        {this.state.avaliableTourGuides.map(function(user, key){\n                           let tourGuide={\n                              firstName: user.firstName,\n                              lastName: user.lastName,\n                              id: user.id\n                           }\n                           return (<option key={key} value={JSON.stringify(tourGuide)}>{`${user.firstName} ${user.lastName}`}</option>)\n                        })}\n                  </select><br/><br/>\n                  <label htmlFor=\"chaperone\"><b>Chaperone: </b></label>\n                  <select name=\"guide\" onChange={this.onChangeChaperone.bind(this)} required>\n                    <option disabled selected defaultValue> -- select an option -- </option>\n                        {this.state.avaliableLeadChaperones.map(function(user, key){\n                           let leadChaperone={\n                              firstName: user.firstName,\n                              lastName: user.lastName,\n                              id: user.id\n                           }\n                           return (<option key={key} value={JSON.stringify(leadChaperone)}>{`${user.firstName} ${user.lastName}`}</option>)\n                        })}\n                  </select><br/><br/>\n                  <center><h2>Emergency Contact Information</h2></center><br/>\n                  <label htmlFor=\"name\"><b>Full Name: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeFullName.bind(this)} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Phone Number: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeEmergencyPhoneNumber.bind(this)} required/><br/><br/>\n                  <label htmlFor=\"name\"><b>Relationship: </b></label>\n                  <input type=\"text\" name=\"name\" onChange={this.onChangeRelationship.bind(this)} required/><br/><br/><br/>\n                  <button type=\"button\" className=\"Submit_Button\" onClick={()=>this.setUser()}>Add User</button>\n               </form>\n         </div></div>\n      );\n   }\n}\nconst mapStateToProps = state => ({\n   users: state.userState.users,\n   userAdded: state.userState.userAdded,\n   gettingUsers: state.userState.gettingUsers,\n   groups: state.groupState.groups,\n   groupRecieving: state.groupState.groupRecieving\n });\nconst condition = authUser => !!authUser;\nexport default compose(\n   connect(\n     mapStateToProps,\n     {addUser, userAddedChanged, getUsers, gettingGroups, getGroups, recievingUsers}\n   ),withAuthorization(condition)\n)(Add_User);"]},"metadata":{},"sourceType":"module"}