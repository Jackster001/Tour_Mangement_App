{"ast":null,"code":"var _jsxFileName = \"/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Session/withAuthentication.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { setUserAuth, setOffUserAuth } from \"../../Action/sessionAction\";\n\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n    }\n\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(authUser => {\n        localStorage.setItem('authUser', JSON.stringify(authUser));\n        this.props.setUserAuth();\n      }, () => {\n        localStorage.removeItem('authUser');\n        this.props.setOffUserAuth();\n      });\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return React.createElement(Component, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }));\n    }\n\n  }\n\n  return compose(connect(null, {\n    setUserAuth,\n    setOffUserAuth\n  }))(WithAuthentication);\n};\n\nexport default withAuthentication;","map":{"version":3,"sources":["/Users/jackie/Desktop/Projects/Tour_Mangement_App/src/components/Session/withAuthentication.js"],"names":["React","connect","compose","setUserAuth","setOffUserAuth","withAuthentication","Component","WithAuthentication","constructor","props","componentDidMount","listener","firebase","onAuthUserListener","authUser","localStorage","setItem","JSON","stringify","removeItem","componentWillUnmount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAAQC,WAAR,EAAqBC,cAArB,QAA0C,4BAA1C;;AACA,MAAMC,kBAAkB,GAAGC,SAAS,IAAI;AACtC,QAAMC,kBAAN,SAAiCP,KAAK,CAACM,SAAvC,CAAiD;AAC/CE,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;AACD;;AACCC,IAAAA,iBAAiB,GAAG;AACpB,WAAKC,QAAL,GAAgB,KAAKF,KAAL,CAAWG,QAAX,CAAoBC,kBAApB,CACdC,QAAQ,IAAI;AACVC,QAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeJ,QAAf,CAAjC;AACA,aAAKL,KAAL,CAAWN,WAAX;AACD,OAJa,EAKd,MAAM;AACJY,QAAAA,YAAY,CAACI,UAAb,CAAwB,UAAxB;AACA,aAAKV,KAAL,CAAWL,cAAX;AACD,OARa,CAAhB;AAUD;;AACDgB,IAAAA,oBAAoB,GAAG;AACrB,WAAKT,QAAL;AACD;;AACDU,IAAAA,MAAM,GAAG;AACP,aAAQ,oBAAC,SAAD,oBAAe,KAAKZ,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAR;AAED;;AAtB8C;;AAyBjD,SAAOP,OAAO,CAACD,OAAO,CAAC,IAAD,EAAO;AAACE,IAAAA,WAAD;AAAcC,IAAAA;AAAd,GAAP,CAAR,CAAP,CAAuDG,kBAAvD,CAAP;AACD,CA3BD;;AA6BA,eAAeF,kBAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport {setUserAuth, setOffUserAuth} from \"../../Action/sessionAction\"\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n    }\n      componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          localStorage.setItem('authUser', JSON.stringify(authUser));\n          this.props.setUserAuth();\n        },\n        () => {\n          localStorage.removeItem('authUser');\n          this.props.setOffUserAuth();\n        },\n      );\n    }\n    componentWillUnmount() {\n      this.listener();\n    }\n    render() {\n      return (<Component {...this.props} />\n      )\n    }\n  }\n\n  return compose(connect(null, {setUserAuth, setOffUserAuth}),)(WithAuthentication);\n};\n\nexport default withAuthentication;"]},"metadata":{},"sourceType":"module"}